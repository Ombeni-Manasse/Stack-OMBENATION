{% extends 'base.html' %}


{% block content %}

<h2 class="page-title">{{ titre_page }}</h2>

{% if questions %}
    {% for question in questions %}
        <div class="question-box {% if questions_resolues.question.id %}question-resolue{% endif %}">
            <div class="question-box-header">
                <h3 class="question-title">{{ question.titre }}</h3>
                <a href="{% url 'questions:detail_question' question.id %}" class="question-detail-link">
                    <i class="fas fa-arrow-right"></i> Voir dÃ©tails
                </a>
            </div>
            <p class="question-extrait">{{ question.contenu|truncatewords:30 }}</p>
            <p class="meta-info">
                PubliÃ©e le {{ question.date_publication|date:"d M Y Ã  H:i" }}
                â€¢ ğŸ’¬ {{ question.reponses.count }} rÃ©ponse{{ question.reponses.count|pluralize }}
                â€¢ ğŸ‘ Score : {{ question.score|default:"0" }}
            </p>
        </div>
    {% endfor %}

    <div class="pagination-wrapper">
        {% if questions.has_previous %}
            <a href="?page={{ questions.previous_page_number }}">â®ï¸ Page prÃ©cÃ©dente</a>
        {% endif %}
        <span>Page {{ questions.number }} / {{ questions.paginator.num_pages }}</span>
        {% if questions.has_next %}
            <a href="?page={{ questions.next_page_number }}">Page suivante â­ï¸</a>
        {% endif %}
    </div>
{% else %}
    <p class="empty-message">ğŸš« Aucune question Ã  afficher.</p>
{% endif %}

{% endblock %}
